<!DOCTYPE html> 
<html>
	<head>
		<meta charset="utf-8">
		<title>Gift Master</title>
		<link href="jquery.mobile.theme-1.3.0.min.css" rel="stylesheet" type="text/css"/>
		<link href="jquery.mobile.structure-1.3.0.min.css" rel="stylesheet" type="text/css"/>
		<link href="jQueryAssets/jquery.ui.core.min.css" rel="stylesheet" type="text/css">
		<link href="jQueryAssets/jquery.ui.theme.min.css" rel="stylesheet" type="text/css">
		<link href="jQueryAssets/jquery.ui.button.min.css" rel="stylesheet" type="text/css">
		<link href="lib/css/ionic_select.css" rel="stylesheet" type="text/css">
		<link href="app.css" rel="stylesheet" type="text/css">
		<script src="jquery-1.8.3.min.js" type="text/javascript"></script>
		<script src="jquery.mobile-1.3.0.min.js" type="text/javascript"></script>
		<script src="jQueryAssets/jquery-ui-1.9.2.button.custom.min.js" type="text/javascript">	</script>
	</head>
    <body>
    	<div data-role="page" id="wishlistsPage">
    		<script type="text/javascript">
			    /* load a full list of wishlists on chooseWishlist dialog */
			    var wishlists,
			    /* 	Fetch the wishlists JSON file by user Id
					Should be replaced by AJAX GET request */
			    getWishlists = $.getJSON("JSON/wishlists_" + sessionStorage.wishlistsOwnerId + ".json", function() {
			      })
			      .done(function(data) {
			        wishlists = data;
			      });
			    getWishlists.complete(function() {
			      //$("#wishlistCount").append(wishlists.length);
			      for (i = 0; i < wishlists.length; i++) {  
			      	$("#wishlists-list").append('<li class="item row" id="li_' + wishlists[i].wishlistid + '"><a id=' + wishlists[i].wishlistid + ' href="chooseGiftDialog.html" data-rel="dialog" class="col col-80"><div id="wishlists_' + i + '"></div></a></li>');
			        $("#wishlists_" + i).append("<h2>" + wishlists[i].wishlistname + " Wishlist</h2>");       
			        $("#wishlists_" + i).append("<p><i class='icon ion-eye'></i>" + wishlists[i].privacy + "</p>");
			       	$("#" + wishlists[i].wishlistid).click(function() {
						sessionStorage.selectedWishlistId=$(this).attr('id');
						console.log(sessionStorage.selectedWishlistId);
					});
			      };
			    }); 
			</script>
			<div data-role="header" class="head">
				<h1 id="wishlists-head">Choose a wishlist</h1>
			</div>
			<div data-role="content" id="wishlists-content">
		    	<ul class="list" id="wishlists-list"></ul>
		    	<ul class="list" id="wishlists-add"></ul>
		    	<ul data-role="listview">
		    	</ul>
			      
			</div>
		</div>
    </body>
</html>